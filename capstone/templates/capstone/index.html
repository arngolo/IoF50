{% extends "capstone/layout.html" %}
{% load static %}

{% block body %}

<div class="content">
    <div class="sticky-top">
        <p id="panel">IoF50 Imagery on the Fly</p>
    </div>
    <div class="sticky-top">
        {% if messages %}
            <ul class="messages">
                {% for message in messages %}
                    <li{% if message.tags %} class="alert alert-{{ message.tags }} m-2"{% endif %}>{{ message }}</li>
                {% endfor %}
            </ul>
        {% endif %}
    </div>
    <div id="map"></div>
    <div id="control_panel">

        <div id="load_vector_image" class="container">
            <div class="row">
                <div class="col">
                    <form action="{% url 'pixels' %}" class="form row" method="post" enctype="multipart/form-data">
                        <div class="form-row align-items-center">
                            <div class="col-auto">
                                <label for="colFormLabelSm">Load vector (files)</label>
                                <input class="form-control mb-4" autofocus type="file" name="ShapefileLocation" accept=".shp, .dbf, .sbn, .shx, .sbx, .prj" placeholder="shapefile and dependencies" multiple>
                            </div>
                            <div class="col-auto">
                                <input class="btn btn-primary" type="submit" value="Submit">
                            </div>
                        </div>
                    </form>
                </div>
                <div class="col">
                    <form action="{% url 'pixels' %}" class="form row" method="post" enctype="multipart/form-data">
                        <div class="form-row align-items-center">
                            <div class="col-auto">
                                <label for="colFormLabelSm">Load vector (folder)</label>
                                <input class="form-control mb-4" autofocus type="file" name="Shapefileparentdir" placeholder="shapefile and dependencies" webkitdirectory multiple>
                            </div>
                            <div class="col-auto">
                                <input class="btn btn-primary" type="submit" value="Submit">
                            </div>
                        </div>
                    </form>
                </div>
                <div class="col">
                    <form action="{% url 'pixels' %}" class="form row" method="post" id="b">
                        <div class="form-row align-items-center">
                            <div class="col-auto">
                                <label for="colFormLabelSm">Load satellite image</label>
                                <input class="form-control mb-4" autofocus type="text" name="SatelliteImage" placeholder="Landsat ID">
                            </div>
                            <div class="col-auto">
                                <input class="btn btn-primary" type="submit" value="Submit">
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <div id="spectral">
            <p>Get Spectral Index</p>
        </div>
        <form id="spectral" action="{% url 'pixels' %}" method="post">
            <div class="form-row align-items-center">
                <div class="col-auto">
                    <input class="form-control mb-1" autofocus type="text" name="SpectralIndexName" placeholder="spectral index name">
                </div>
                <div class="col-auto">
                    <input class="form-control mb-1" autofocus type="text" name="SpectralIndexEquation" placeholder="formula (bands range B1-B12; sentinel has b8A)">
                </div>
                <div class="col-auto">
                    <!-- <label for="exampleInputEmail1">color palette</label> -->
                    <select class="form-control mb-1" id="inlineFormInput" name="SpectralIndexColorPalette" placeholder="color palette">
                        <option value="classifier">default</option>
                        <option value="GBr">green brown</option>
                        <option value="orange">orange</option>
                        <option value="orange_green">orange_green</option>
                        <option value="rainbow">rainbow</option>
                        <option value="rgb">rgb</option>
                        <option value="rgb2">rgb2</option>
                        <option value="viridis">viridis</option>
                    </select>
                </div>
                <div class="col-auto">
                    <input class="btn btn-primary" type="submit" value="Submit">
                </div>
            </div>
        </form>
        <button id="get_spectral_index" type="button" class="btn btn-link">Get Spectral Index</button>

        <button id="get_mei" type="button" class="btn btn-link">Get MEI</button>

        <button id="get_vigs" type="button" class="btn btn-link">Get VIGS</button>

        <div id="classif">
            <p>Image Classification</p>
        </div>

        <form id="classifier_param" action="{% url 'pixels' %}" method="post">
            <div class="form-row align-items-center">
                    <!-- add later a pop-up menu that shows up if the spectral index is not present in local and suggest to create 1 using the get_spectral_index function-->
                    <div class="col-auto">
                        <label for="exampleInputEmail1">band list</label>
                        <input class="form-control mb-4" id="inlineFormInput" type="text" name="BandStackList" placeholder="e.g.: B1, B2, ndvi">
                    </div>
                    <div class="col-auto">
                    <label for="exampleInputEmail1">number of clusters</label>
                    <input class="form-control mb-4" id="inlineFormInput" type="text" name="KValue" placeholder="k value">
                    </div>
                    <div class="col-auto">
                    <label for="exampleInputEmail1">number of subdimensions (pqk-means)</label>
                    <input class="form-control mb-4" id="inlineFormInput" type="text" name="NumSubdim">
                    </div>
                    <div class="col-auto">
                        <label for="exampleInputEmail1">Ks value (pqk-means)</label>
                        <select class="form-control mb-4" id="inlineFormInput" name="Ks">
                            <option value="4">2bits</option>
                            <option value="16">4bits</option>
                            <option value="256">8bits</option>
                            <option value="65536">16bits</option>
                        </select>
                    </div>
                    <div class="col-auto">
                        <label for="exampleInputEmail1">sample size (pqk-means)</label>
                        <input class="form-control mb-4" autofocus type="text" name="SampleSize">
                    </div>
                    <div class="col-auto">
                        <input class="btn btn-primary" type="submit" value="Submit">
                    </div>
            </div>
        </form>

        <button id="get_pqkmeans" type="button" class="btn btn-link">pqk-means</button>

        <button id="get_kmeans" type="button" class="btn btn-link">k-means</button>
    </div>
</div>


{% endblock %}
